li {
  &:hover {
    &.is-dropdown-submenu-parent {
      > a {
        &::after {
          border: inset 12px;
          border-bottom-width: 0;
          border-color: map-get($colors, 'white') transparent transparent;
          border-top-style: solid;
          content: '';
          display: block;
          height: 0;
          left: 40%;
          top: 114%;
          width: 0;
        }
      }
    }
  }
}

.top-bar {
  margin: 0 auto;
  padding: 0;
}

.utility-menu {
  background: map-get($gradient-colors, 'dark-gray');
  padding: 15px 20px;

  li {
    list-style: none;
    padding: .3rem 0;
  }
}

.utility-mobile-wrapper {
  background: map-get($default-colors, 'light');
  padding-top: 15px;
}

.utility-parents {
  display: table;
  font-size: 1.2rem;
  padding-top: 15px;
  table-layout: fixed;
  text-align: center;
  width: 100%;

  a {
    display: block;
    padding: 10px;

    &:link,
    &:visited {
      color: map-get($colors, 'white');
    }

    &:hover,
    &:active {
      color: map-get($colors, 'darkest-gray');
    }
  }

  li {
    display: table-cell;
    padding-bottom: 10px;
  }
}

.utility-search {
  &.desktop-only {
    display: none;
  }
}

.utility-wrapper {
  li {
    a {
      color: map-get($colors, 'white');
      font-weight: map-get($font-weights, 'semi-bold');
      padding: 5px 0;

      &:hover,
      &:active {
        color: map-get($colors, 'white');
      }
    }
  }

  ul {
    background: none;
  }
}

@media only screen and (min-width: map-get($custom-breakpoints, 'mlarge')) {
  li {
    &:hover {
      &.is-dropdown-submenu-parent {
        > a {
          &::after {
            z-index: 2;
          }
        }
      }
    }
  }

  .is-stuck {
    .utility-wrapper {
      display: none;
    }
  }

  .top-bar {
    background-color: map-get($colors, 'white');

    ul {
      background-color: map-get($colors, 'white');
    }
  }

  .utility-menu {
    background: none;

    li {
      font-size: .69rem;
      padding: 0;
    }
  }

  .utility-menu-primary {
    @include flex-align(right, bottom);
  }

  .utility-mobile-wrapper {
    display: none;
  }

  .utility-search {
    &.desktop-only {
      display: inline-flex;
      float: right;
    }
  }

  .utility-wrapper {
    text-align: right;

    li {
      display: inline-flex;
      line-height: 1.6rem;

      a {
        color: map-get($colors, 'dark-gray');
        font-weight: map-get($font-weights, 'regular');
        padding: 0 10px;

        &:active,
        &:hover {
          color: map-get($colors, 'gray');
        }
      }
    }

    .utility-menu {
      @include uppercase;
      padding: 0;
    }
  }
}

@media only screen and (min-width: map-get($custom-breakpoints, 'large')) {
  .utility-menu {
    li {
      font-size: .75rem;
      line-height: 1.7rem;
    }
  }
}

@media only screen and (min-width: map-get($custom-breakpoints, 'xlarge')) {
  li {
    &:hover {
      &.is-dropdown-submenu-parent {
        > a {
          &::after {
            top: 115%;
          }
        }
      }
    }
  }

  .utility-menu {
    li {
      font-size: .87rem;
      font-weight: map-get($font-weights, 'regular');
    }
  }
}
